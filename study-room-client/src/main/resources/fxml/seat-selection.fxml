<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<BorderPane stylesheets="@../css/seat-selection.css" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.studyroom.client.controller.SeatSelectionController">
   
   <!-- é¡¶éƒ¨ä¿¡æ¯æ  -->
   <top>
      <VBox styleClass="header-section">
         <children>
            <!-- è‡ªä¹ å®¤ä¿¡æ¯ -->
            <HBox alignment="CENTER_LEFT" spacing="20.0" styleClass="room-info-bar">
               <children>
                  <Label fx:id="roomNameLabel" styleClass="room-title" text="è‡ªä¹ å®¤åç§°">
                     <font>
                        <Font size="20.0" />
                     </font>
                  </Label>
                  <Label fx:id="roomLocationLabel" styleClass="room-location" text="ä½ç½®ä¿¡æ¯" />
                  <Region HBox.hgrow="ALWAYS" />
                  <Label fx:id="roomPriceLabel" styleClass="room-price" text="Â¥0/å°æ—¶" />
                  <Button fx:id="backButton" mnemonicParsing="false" onAction="#handleBack" styleClass="back-button" text="â† è¿”å›ž" />
               </children>
               <padding>
                  <Insets bottom="15.0" left="20.0" right="20.0" top="15.0" />
               </padding>
            </HBox>

            <!-- åº§ä½çŠ¶æ€è¯´æ˜Ž -->
            <HBox alignment="CENTER" spacing="30.0" styleClass="legend-bar">
               <children>
                  <HBox alignment="CENTER_LEFT" spacing="8.0">
                     <children>
                        <Button disable="true" prefHeight="25.0" prefWidth="25.0" styleClass="seat-available" />
                        <Label text="å¯é€‰" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT" spacing="8.0">
                     <children>
                        <Button disable="true" prefHeight="25.0" prefWidth="25.0" styleClass="seat-occupied" />
                        <Label text="å·²å ç”¨" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT" spacing="8.0">
                     <children>
                        <Button disable="true" prefHeight="25.0" prefWidth="25.0" styleClass="seat-selected" />
                        <Label text="å·²é€‰æ‹©" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT" spacing="8.0">
                     <children>
                        <Button disable="true" prefHeight="25.0" prefWidth="25.0" styleClass="seat-maintenance" />
                        <Label text="ç»´æŠ¤ä¸­" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT" spacing="8.0">
                     <children>
                        <Button disable="true" prefHeight="25.0" prefWidth="25.0" styleClass="seat-vip" />
                        <Label text="VIPåº§ä½" />
                     </children>
                  </HBox>
               </children>
               <padding>
                  <Insets bottom="10.0" left="20.0" right="20.0" top="5.0" />
               </padding>
            </HBox>
         </children>
      </VBox>
   </top>

   <!-- ä¸­å¤®åº§ä½å¸ƒå±€åŒºåŸŸ -->
   <center>
      <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="seat-layout-scroll">
         <content>
            <VBox alignment="TOP_CENTER" spacing="20.0" styleClass="seat-layout-container">
               <padding>
                  <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
               </padding>
               
               <!-- è®²å°/å‰æ–¹æŒ‡ç¤º -->
               <VBox alignment="CENTER" spacing="10.0">
                  <children>
                     <Rectangle arcHeight="5.0" arcWidth="5.0" fill="#e0e0e0" height="15.0" stroke="#ccc" width="300.0" />
                     <Label styleClass="platform-label" text="è®²å° / å‰æ–¹" />
                  </children>
               </VBox>

               <!-- åº§ä½ç½‘æ ¼å®¹å™¨ -->
               <VBox fx:id="seatGridContainer" alignment="CENTER" spacing="15.0" styleClass="seat-grid-container">
                  <!-- åº§ä½å°†åŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
               </VBox>

               <!-- é—¨/å‡ºå…¥å£æŒ‡ç¤º -->
               <VBox alignment="CENTER" spacing="10.0">
                  <children>
                     <Label styleClass="door-label" text="ðŸšª å‡ºå…¥å£" />
                  </children>
               </VBox>
            </VBox>
         </content>
      </ScrollPane>
   </center>

   <!-- å³ä¾§ä¿¡æ¯é¢æ¿ -->
   <right>
      <VBox prefWidth="280.0" spacing="20.0" styleClass="info-panel">
         <children>
            <!-- é€‰æ‹©ä¿¡æ¯ -->
            <VBox spacing="15.0" styleClass="selection-info">
               <children>
                  <Label styleClass="panel-title" text="é€‰æ‹©ä¿¡æ¯">
                     <font>
                        <Font size="16.0" />
                     </font>
                  </Label>
                  
                  <VBox spacing="8.0">
                     <children>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="60.0" text="åº§ä½å·:" />
                              <Label fx:id="selectedSeatLabel" styleClass="selected-seat" text="æœªé€‰æ‹©" />
                           </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="60.0" text="åº§ä½ç±»åž‹:" />
                              <Label fx:id="seatTypeLabel" text="æ™®é€šåº§ä½" />
                           </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="60.0" text="è®¾æ–½:" />
                              <Label fx:id="seatFeaturesLabel" text="æ— " />
                           </children>
                        </HBox>
                     </children>
                  </VBox>
               </children>
               <padding>
                  <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
               </padding>
            </VBox>

            <!-- æ—¶é—´é€‰æ‹© -->
            <VBox spacing="15.0" styleClass="time-selection">
               <children>
                  <Label styleClass="panel-title" text="é¢„è®¢æ—¶é—´">
                     <font>
                        <Font size="16.0" />
                     </font>
                  </Label>
                  
                  <VBox spacing="10.0">
                     <children>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="60.0" text="æ—¥æœŸ:" />
                              <DatePicker fx:id="reservationDatePicker" prefWidth="160.0" />
                           </children>
                        </HBox>
                        
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="60.0" text="å¼€å§‹:" />
                              <ComboBox fx:id="startTimeComboBox" onAction="#handleTimeChange" prefWidth="80.0" />
                              <Label text="æ—¶" />
                           </children>
                        </HBox>
                        
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="60.0" text="ç»“æŸ:" />
                              <ComboBox fx:id="endTimeComboBox" onAction="#handleTimeChange" prefWidth="80.0" />
                              <Label text="æ—¶" />
                           </children>
                        </HBox>

                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="60.0" text="æ—¶é•¿:" />
                              <Label fx:id="durationLabel" styleClass="duration-label" text="0å°æ—¶" />
                           </children>
                        </HBox>
                     </children>
                  </VBox>
               </children>
               <padding>
                  <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
               </padding>
            </VBox>

            <!-- è´¹ç”¨è®¡ç®— -->
            <VBox spacing="15.0" styleClass="cost-calculation">
               <children>
                  <Label styleClass="panel-title" text="è´¹ç”¨è®¡ç®—">
                     <font>
                        <Font size="16.0" />
                     </font>
                  </Label>
                  
                  <VBox spacing="8.0">
                     <children>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="80.0" text="åŸºç¡€è´¹ç”¨:" />
                              <Label fx:id="baseCostLabel" text="Â¥0" />
                           </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="80.0" text="åº§ä½è´¹ç”¨:" />
                              <Label fx:id="seatCostLabel" text="Â¥0" />
                           </children>
                        </HBox>
                        <Separator />
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label minWidth="80.0" styleClass="total-label" text="æ€»è´¹ç”¨:">
                                 <font>
                                    <Font name="System Bold" size="14.0" />
                                 </font>
                              </Label>
                              <Label fx:id="totalCostLabel" styleClass="total-cost" text="Â¥0">
                                 <font>
                                    <Font name="System Bold" size="16.0" />
                                 </font>
                              </Label>
                           </children>
                        </HBox>
                     </children>
                  </VBox>
               </children>
               <padding>
                  <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
               </padding>
            </VBox>

            <!-- æ“ä½œæŒ‰é’® -->
            <VBox spacing="10.0" styleClass="action-buttons">
               <children>
                  <Button fx:id="confirmButton" disable="true" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleConfirmReservation" styleClass="confirm-button" text="ç¡®è®¤é¢„è®¢">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Button>
                  <Button fx:id="clearButton" maxWidth="Infinity" mnemonicParsing="false" onAction="#handleClearSelection" styleClass="clear-button" text="æ¸…é™¤é€‰æ‹©" />
               </children>
               <padding>
                  <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
               </padding>
            </VBox>

            <Region VBox.vgrow="ALWAYS" />

            <!-- çŠ¶æ€ä¿¡æ¯ -->
            <VBox spacing="5.0" styleClass="status-info">
               <children>
                  <Label fx:id="statusLabel" styleClass="status-label" text="è¯·é€‰æ‹©åº§ä½" />
                  <Label fx:id="lastUpdateLabel" styleClass="update-label" text="æœ€åŽæ›´æ–°: --" />
               </children>
               <padding>
                  <Insets bottom="10.0" left="15.0" right="15.0" top="10.0" />
               </padding>
            </VBox>
         </children>
         <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
         </padding>
      </VBox>
   </right>

   <styleClass>seat-selection</styleClass>
</BorderPane> 